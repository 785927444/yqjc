<template>
  <div class="layout-row plr15 pb15">
    <div class="layout-col flex3">
      <l1 class="flex2 mb15" />
      <l2 class="flex1" />
    </div>
    <div class="layout-col flex5 mlr15">
      <c1 class="flex1 mb15" />
      <c2 class="flex2" />
    </div>
    <div class="layout-col flex3">
      <r1 class="flex1 mb15" />
      <r2 class="flex1 mb15" />
      <r3 class="flex1" />
    </div>
  </div>
</template>

<script lang="ts" setup>
	import l1 from './l1'
	import l2 from './l2'
	import c1 from './c1'
	import c2 from './c2'
	import r1 from './r1'
	import r2 from './r2'
	import r3 from './r3'
	import scheduled from "@/utils/scheduled"
	const { createScheduled } = scheduled()
	const { proxy }:any = getCurrentInstance()
	const configStore = proxy.configStore()
	const publicStore = proxy.publicStore()
	const state = reactive({
		...publicStore.$state,
	})

	onMounted(async() => {
    setTimeout(() => {
	    init()
    }, 100);
	  createScheduled('home', 10*60*1000, () => { init() })
	})
	
	watch([
		()=>configStore.provinceId,
		()=>configStore.cityId,
		()=>configStore.districtId,
		()=>configStore.supplyId, 
		()=>configStore.distributId], (val) => {
	    init()
	}, {immediate: false, deep: true})

	// const init = async() => {
  //   publicStore._public.wdData = [
  //     {name: '', data: [['00:00', 10], ['01:00', 20], ['02:00', 20], ['03:00', 40],['04:00', 40], ['05:00', 10], ['06:00', 15], ['07:00', 30],['08:00', 50], ['09:00', 40], ['10:00', 35], ['11:00', 50],['12:00', 45]]}, 
  //   ]

  //   publicStore._public.loadData3 = [
  //     {name: '', data: [['00:00', 10], ['01:00', 20], ['02:00', 20], ['03:00', 40],['04:00', 40], ['05:00', 10], ['06:00', 15], ['07:00', 30],['08:00', 50], ['09:00', 40], ['10:00', 35], ['11:00', 50],['12:00', 45]]}, 
  //   ]

  //   publicStore._public.rangeData = [
  //     {name: '可调上限', data: [['00:00', 60], ['01:00', 30], ['02:00', 10], ['03:00', 30],['04:00', 50], ['05:00', 20], ['06:00', 25], ['07:00', 30],['08:00', 50], ['09:00', 40], ['10:00', 35], ['11:00', 50],['12:00', 45]]}, 
  //     {name: '可调下限', data: [['00:00', 50], ['01:00', 40], ['02:00', 20], ['03:00', 40],['04:00', 30], ['05:00', 10], ['06:00', 0], ['07:00', 30],['08:00', 30], ['09:00', 45], ['10:00', 25], ['11:00', 15],['12:00', 35]]},
  //     {name: '实时功率', data: [['00:00', 100], ['01:00', 50], ['02:00', 80], ['03:00', 90],['04:00', 20], ['05:00', 10], ['06:00', 0], ['07:00', 20],['08:00', 50], ['09:00', 65], ['10:00', 75], ['11:00', 15],['12:00', 55]]},
  //   ]

  //   publicStore._public.mainData = [
  //     {name: '制冷机1#', id: '123456', run: '1', capacity: 100, rated: 64, out: 62, soc: '40%', car_id: '粤C88888', car_type: '大奔BBBB', start_time: '2024-07-10 10:00:00', end_time: '2024-07-10 12:00:00'}, 
  //     {name: '制冷机2#', id: '123456', run: '2', capacity: 100, rated: 64, out: 62, soc: '40%', car_id: '粤C88888', car_type: '大奔BBBB', start_time: '2024-07-10 10:00:00', end_time: '2024-07-10 12:00:00'},
  //     {name: '制冷机3#', id: '123456', run: '1', capacity: 100, rated: 64, out: 62, soc: '40%', car_id: '粤C88888', car_type: '大奔BBBB', start_time: '2024-07-10 10:00:00', end_time: '2024-07-10 12:00:00'},
  //     {name: '制冷机4#', id: '123456', run: '1', capacity: 100, rated: 64, out: 62, soc: '40%', car_id: '粤C88888', car_type: '大奔BBBB', start_time: '2024-07-10 10:00:00', end_time: '2024-07-10 12:00:00'},
  //   ]

  //   publicStore._public.energyData1 = [
  //     {name: '', data: [['00:00', 10], ['01:00', 20], ['02:00', 20], ['03:00', 40],['04:00', 40], ['05:00', 10], ['06:00', 15], ['07:00', 30],['08:00', 50], ['09:00', 40], ['10:00', 35], ['11:00', 50],['12:00', 45]]}, 
  //   ]
  //   publicStore._public.energyData2 = [
  //     {name: '', data: [['00:00', 50], ['01:00', 40], ['02:00', 20], ['03:00', 40],['04:00', 30], ['05:00', 10], ['06:00', 0], ['07:00', 30],['08:00', 30], ['09:00', 45], ['10:00', 25], ['11:00', 15],['12:00', 35]]},
  //   ]
  //   publicStore._public.energyData3 = [
  //     {name: '', data: [['00:00', 60], ['01:00', 50], ['02:00', 30], ['03:00', 30],['04:00', 20], ['05:00', 20], ['06:00', 10], ['07:00', 20],['08:00', 50], ['09:00', 35], ['10:00', 15], ['11:00', 15],['12:00', 25]]},
  //   ]
	// }

  const init = async() => {
    // publicStore._public.wdData = [
    //   {name: '', data: [['00:00', 12], ['02:00', 18], ['04:00', 14], ['06:00', 20],['08:00', 4], ['10:00', 20], ['12:00', 15], ['14:00', 10],['16:00', 50], ['18:00', 20], ['20:00', 45], ['22:00', 40],['23:00', 15]]}, 
    // ]
    publicStore._public.wdData = [
      {name: '', data: [['00:00', 22.5], ['00:30', 22.2],['01:00', 22.0], ['01:30', 21.8],['02:00', 21.5], ['02:30', 21.3],['03:00', 21.0], ['03:30', 20.8],['04:00', 20.5], ['04:30', 20.3],['05:00', 20.0], ['05:30', 20.2],['06:00', 20.8], ['06:30', 21.5],['07:00', 22.5], ['07:30', 23.8],['08:00', 25.0], ['08:30', 26.5],['09:00', 28.0], ['09:30', 29.5],['10:00', 31.0], ['10:30', 32.0],['11:00', 32.8], ['11:30', 33.2],['12:00', 33.5], ['12:30', 33.5],['13:00', 33.2], ['13:30', 32.8],['14:00', 32.0], ['14:30', 31.0],['15:00', 29.5], ['15:30', 28.0],['16:00', 26.5], ['16:30', 25.0],['17:00', 23.8], ['17:30', 22.5],['18:00', 21.5], ['18:30', 20.8],['19:00', 20.2], ['19:30', 20.0],['20:00', 20.3], ['20:30', 20.5],['21:00', 20.8], ['21:30', 21.0],['22:00', 21.3], ['22:30', 21.5],['23:00', 21.8], ['23:30', 22.0]]}, 
    ]

    publicStore._public.loadData3 = [
      {name: '', data: [['00:00', 50.5], ['02:00', 50.5], ['04:00', 50.5], ['06:00', 50.5], ['08:00', 57], ['10:00', 57], ['12:00', 22], ['14:00', 22], ['16:00', 129.5], ['18:00', 129.5], ['20:00', 70.5], ['22:00', 70.5], ['24:00', 70.5]]}, 
    ]

    publicStore._public.rangeData = [
      {name: '可调上限', data: [['00:00', 60], ['02:00', 30], ['04:00', 10], ['06:00', 30],['08:00', 50], ['10:00', 20], ['12:00', 25], ['14:00', 30],['16:00', 50], ['18:00', 40], ['20:00', 35], ['22:00', 50],['23:00', 45]]}, 
      {name: '可调下限', data: [['00:00', 50], ['02:00', 40], ['04:00', 20], ['06:00', 40],['08:00', 30], ['10:00', 10], ['12:00', 0], ['14:00', 30],['16:00', 30], ['18:00', 45], ['20:00', 25], ['22:00', 15],['23:00', 35]]},
      {name: '实时功率', data: [['00:00', 100], ['02:00', 50], ['04:00', 80], ['06:00', 90],['08:00', 20], ['10:00', 10], ['12:00', 0], ['14:00', 20],['16:00', 50], ['18:00', 65], ['20:00', 75], ['22:00', 15],['23:00', 55]]},
    ]

    publicStore._public.mainData = [
      {name: '制冷机1#', id: '123456', run: '1', capacity: 100, rated: 64, out: 62, soc: '41%', car_id: '粤CD12343', car_type: '比亚迪', start_time: '2024-07-10 20:00:00', end_time: '2024-07-10 23:00:00'}, 
      {name: '制冷机2#', id: '123456', run: '2', capacity: 100, rated: 65, out: 61, soc: '43%', car_id: '粤CD4F5T5', car_type: '特斯拉', start_time: '2024-07-10 20:00:00', end_time: '2024-07-10 24:00:00'},
      {name: '制冷机3#', id: '123456', run: '1', capacity: 100, rated: 62, out: 62, soc: '42%', car_id: '粤CF534SS', car_type: '长安', start_time: '2024-07-10 20:00:00', end_time: '2024-07-10 23:32:00'},
      {name: '制冷机4#', id: '123456', run: '1', capacity: 100, rated: 64, out: 60, soc: '39%', car_id: '粤CDFF123', car_type: '吉利', start_time: '2024-07-10 20:00:00', end_time: '2024-07-10 22:55:00'},
    ]

    publicStore._public.energyData1 = [
      {name: '', data: [['00:00', 109.5], ['02:00', 109.5], ['04:00', 109.5], ['06:00', 109.5], ['08:00', 160], ['10:00', 160], ['12:00', 218], ['14:00', 218],['16:00', 180], ['18:00', 180], ['20:00', 129.5], ['22:00', 129.5],['23:00', 129.5]]}, 
    ]
    publicStore._public.energyData2 = [
      {name: '', data: [['00:00', 50], ['02:00', 40], ['04:00', 20], ['06:00', 40],['08:00', 30], ['10:00', 10], ['12:00', 0], ['14:00', 30],['16:00', 30], ['18:00', 45], ['20:00', 25], ['22:00', 15],['23:00', 35]]},
    ]
    publicStore._public.energyData3 = [
      {name: '', data: [['00:00', 60], ['02:00', 50], ['04:00', 30], ['06:00', 30],['08:00', 20], ['10:00', 20], ['12:00', 10], ['14:00', 20],['16:00', 50], ['18:00', 35], ['20:00', 15], ['22:00', 15],['23:00', 25]]},
    ]
  }

	const setInit = async() => {

	}
</script>

<style lang="scss">
 
</style>
