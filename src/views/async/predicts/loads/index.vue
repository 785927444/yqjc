<template>
  <div class="layout-row plr15 pb15">
    <div class="layout-col flex3">
      <l1 class="flex2 mb15" />
      <l2 class="flex1" />
    </div>
    <div class="layout-col flex8 ml15">
      <r1 class="flex1" />
    </div>
  </div>
</template>

<script lang="ts" setup>
	import { getTime } from 'element-plus/es/components/countdown/src/utils.mjs'
  import l1 from './l1'
	import l2 from './l2'
	import r1 from './r1'
	import scheduled from "@/utils/scheduled"
	const { createScheduled } = scheduled()
	const { proxy }:any = getCurrentInstance()
	const configStore = proxy.configStore()
	const publicStore = proxy.publicStore()
	const state = reactive({
		...publicStore.$state,
    dw: '{m}-{d}',
	})

	onMounted(async() => {
    state.date = new Date().getTime()
    setTimeout(() => {
	    init()
    }, 100);
	  createScheduled('home', 10*60*1000, () => { init() })
	})

	const init = async() => {
    publicStore._public.loadsEnv1 = [
      {name: '温度', data: [['00:00', 22], ['02:00', 30], ['04:00', 32], ['06:00', 32],['08:00', 32], ['10:00', 32], ['12:00', 33], ['14:00', 34],['16:00', 32], ['18:00', 30], ['20:00', 28], ['22:00', 24],['24:00', 22]]}, 
      {name: '湿度', data: [['00:00', 10], ['02:00', 12], ['04:00', 14], ['06:00', 14],['08:00', 15], ['10:00', 18], ['12:00', 18], ['14:00', 16],['16:00', 14], ['18:00', 14], ['20:00', 12], ['22:00', 11],['24:00', 10]]},
    ]
    publicStore._public.loadsEnv2 = [
      {name: '温度', data: [['00:00', 20], ['02:00', 25], ['04:00', 28], ['06:00', 30],['08:00', 31], ['10:00', 32], ['12:00', 32], ['14:00', 34],['16:00', 32], ['09:00', 28], ['20:00', 28], ['22:00', 26],['24:00', 22]]}, 
      {name: '湿度', data: [['00:00', 10], ['02:00', 13], ['04:00', 13], ['06:00', 13],['08:00', 13], ['10:00', 15], ['12:00', 16], ['14:00', 16],['16:00', 15], ['09:00', 14], ['20:00', 12], ['22:00', 11],['24:00', 10]]},
    ]

    publicStore._public.loadsWind1 = [
      {name: '风力', data: [['00:00', 2.1], ['00:30', 2.3],['01:00', 2.5], ['01:30', 2.4],['02:00', 2.2], ['02:30', 2.0],['03:00', 1.8], ['03:30', 1.6],['04:00', 1.5], ['04:30', 1.4],['05:00', 1.5], ['05:30', 1.8],['06:00', 2.2], ['06:30', 2.7],['07:00', 3.2], ['07:30', 3.7],['08:00', 4.2], ['08:30', 4.5],['09:00', 4.7], ['09:30', 4.8],['10:00', 4.7], ['10:30', 4.5],['11:00', 4.2], ['11:30', 3.9],['12:00', 3.6], ['12:30', 3.3],['13:00', 3.0], ['13:30', 2.8],['14:00', 2.6], ['14:30', 2.5],['15:00', 2.4], ['15:30', 2.3],['16:00', 2.2], ['16:30', 2.3],['17:00', 2.5], ['17:30', 2.8],['18:00', 3.2], ['18:30', 3.6],['19:00', 4.0], ['19:30', 4.3],['20:00', 4.5], ['20:30', 4.6],['21:00', 4.5], ['21:30', 4.3],['22:00', 4.0], ['22:30', 3.6],['23:00', 3.2], ['23:30', 2.8]]}, 
    ]
    publicStore._public.loadsWind2 = [
      {name: '风力', data: [['00:00', 38], ['02:00', 37], ['04:00', 39], ['06:00', 38],['08:00', 37], ['10:00', 38], ['12:00', 36], ['14:00', 35],['16:00', 35], ['18:00', 36], ['20:00', 36], ['22:00', 36],['24:00', 36]]}, 
    ]

    publicStore._public.loadsRate = [
      {name: '工业负荷', value: 15, color: '#54CFF3', rate: '15%', key: 'count_A'},
      {name: '商业负荷', value: 25, color: '#3E6AE3', rate: '25%', key: 'count_B'},
      {name: '居民负荷', value: 60, color: '#F9B74A', rate: '60%', key: 'count_C'},
      // {name: '充电桩4#', value: 25, color: '#F45C5C', rate: '18%', key: 'count_D'},
    ]

    // publicStore._public.loadsReal = [
    //   {name: '总负荷', id:'', type: 'solid', data: [['00:00', 66], ['02:00', 66], ['04:00', 70], ['06:00', 75],['08:00', 85], ['10:00', 87], ['12:00', 86], ['14:00', 84],['16:00', 78], ['18:00', 72], ['20:00', 73], ['22:00', 74],['24:00', 75]]}, 
    //   {name: '总负荷历史预测', id:'', type: 'dotted', data: [['00:00', 61], ['02:00', 61], ['04:00', 65], ['06:00', 70],['08:00', 80], ['10:00', 82], ['12:00', 81], ['14:00', 79],['16:00', 73], ['18:00', 68], ['20:00', 68], ['22:00', 69],['24:00', 70]]}, 
    //   {name: '用户1', id:'1', type: 'solid', data: [['00:00', 55], ['02:00', 56], ['04:00', 58], ['06:00', 58],['08:00', 68], ['10:00', 70], ['12:00', 68], ['14:00', 57],['16:00', 56], ['18:00', 56], ['20:00', 57], ['22:00', 58],['24:00', 57]]},
    //   {name: '用户1历史预测', id:'1', type: 'dotted', data: [['00:00', 50], ['02:00', 51], ['04:00', 53], ['06:00', 53],['08:00', 63], ['10:00', 65], ['12:00', 63], ['14:00', 52],['16:00', 51], ['18:00', 51], ['20:00', 52], ['22:00', 53],['24:00', 52]]}, 
    //   {name: '用户2', id:'2', type: 'solid', data: [['00:00', 44], ['02:00', 45], ['04:00', 44], ['06:00', 43],['08:00', 52], ['10:00', 50], ['12:00', 52], ['14:00', 43],['16:00', 44], ['18:00', 45], ['20:00', 42], ['22:00', 40],['24:00', 42]]},
    //   {name: '用户2历史预测', id:'2', type: 'dotted', data: [['00:00', 39], ['02:00', 40], ['04:00', 39], ['06:00', 38],['08:00', 47], ['10:00', 45], ['12:00', 47], ['14:00', 38],['16:00', 39], ['18:00', 40], ['20:00', 37], ['22:00', 35],['24:00', 37]]}, 
    // ]

    publicStore._public.loadsReal = [
      {name: '总负荷', id:'', type: 'solid', data: [['00:00', 2850], ['00:30', 2780],['01:00', 2720], ['01:30', 2680],['02:00', 2630], ['02:30', 2570],['03:00', 2520], ['03:30', 2530],['04:00', 2540], ['04:30', 2580],['05:00', 2630], ['05:30', 2720],['06:00', 2880], ['06:30', 3020],['07:00', 3350], ['07:30', 3620],['08:00', 3950], ['08:30', 4280],['09:00', 4550], ['09:30', 4720],['10:00', 4850], ['10:30', 4880],['11:00', 4820], ['11:30', 4750],['12:00', 4580], ['12:30', 4350],['13:00', 4120], ['13:30', 3950],['14:00', 3780], ['14:30', 3550],['15:00', 3320], ['15:30', 3150],['16:00', 2980], ['16:30', 2750],['17:00', 2580], ['17:30', 2750],['18:00', 3050], ['18:30', 3320],['19:00', 3650], ['19:30', 3980],['20:00', 4250], ['20:30', 4420],['21:00', 4550], ['21:30', 4520],['22:00', 4450], ['22:30', 4280],['23:00', 3950], ['23:30', 3680]]}, 
      {name: '总负荷历史预测', id:'', type: 'dotted', data: [['00:00', 2800], ['00:30', 2750],['01:00', 2700], ['01:30', 2650],['02:00', 2600], ['02:30', 2550],['03:00', 2500], ['03:30', 2500],['04:00', 2500], ['04:30', 2550],['05:00', 2600], ['05:30', 2700],['06:00', 2850], ['06:30', 3050],['07:00', 3300], ['07:30', 3600],['08:00', 3900], ['08:30', 4200],['09:00', 4500], ['09:30', 4700],['10:00', 4800], ['10:30', 4850],['11:00', 4800], ['11:30', 4700],['12:00', 4500], ['12:30', 4300],['13:00', 4100], ['13:30', 3900],['14:00', 3700], ['14:30', 3500],['15:00', 3300], ['15:30', 3100],['16:00', 2900], ['16:30', 2700],['17:00', 2500], ['17:30', 2700],['18:00', 3000], ['18:30', 3300],['19:00', 3600], ['19:30', 3900],['20:00', 4200], ['20:30', 4400],['21:00', 4500], ['21:30', 4500],['22:00', 4400], ['22:30', 4200],['23:00', 3900], ['23:30', 3600]]}, 
      {name: '工业负荷', id:'1', type: 'solid', data: [['00:00', 1140], ['00:30', 1112],['01:00', 1088], ['01:30', 1072],['02:00', 1052], ['02:30', 1028],['03:00', 1008], ['03:30', 1012],['04:00', 1016], ['04:30', 1032],['05:00', 1052], ['05:30', 1088],['06:00', 1152], ['06:30', 1208],['07:00', 1340], ['07:30', 1448],['08:00', 1580], ['08:30', 1712],['09:00', 1820], ['09:30', 1888],['10:00', 1940], ['10:30', 1952],['11:00', 1928], ['11:30', 1900],['12:00', 1832], ['12:30', 1740],['13:00', 1648], ['13:30', 1580],['14:00', 1512], ['14:30', 1420],['15:00', 1328], ['15:30', 1260],['16:00', 1192], ['16:30', 1100],['17:00', 1032], ['17:30', 1100],['18:00', 1220], ['18:30', 1328],['19:00', 1460], ['19:30', 1592],['20:00', 1700], ['20:30', 1768],['21:00', 1820], ['21:30', 1808],['22:00', 1780], ['22:30', 1712],['23:00', 1580], ['23:30', 1472]]},
      {name: '工业负荷预测', id:'1', type: 'dotted', data: [['00:00', 1120], ['00:30', 1100],['01:00', 1080], ['01:30', 1060],['02:00', 1040], ['02:30', 1020],['03:00', 1000], ['03:30', 1000],['04:00', 1000], ['04:30', 1020],['05:00', 1040], ['05:30', 1080],['06:00', 1140], ['06:30', 1220],['07:00', 1320], ['07:30', 1440],['08:00', 1560], ['08:30', 1680],['09:00', 1800], ['09:30', 1880],['10:00', 1920], ['10:30', 1940],['11:00', 1920], ['11:30', 1880],['12:00', 1800], ['12:30', 1720],['13:00', 1640], ['13:30', 1560],['14:00', 1480], ['14:30', 1400],['15:00', 1320], ['15:30', 1240],['16:00', 1160], ['16:30', 1080],['17:00', 1000], ['17:30', 1080],['18:00', 1200], ['18:30', 1320],['19:00', 1440], ['19:30', 1560],['20:00', 1680], ['20:30', 1760],['21:00', 1800], ['21:30', 1800],['22:00', 1760], ['22:30', 1680],['23:00', 1560], ['23:30', 1440]]}, 
      {name: '商业负荷', id:'2', type: 'solid', data: [['00:00', 560], ['00:30', 550],['01:00', 540], ['01:30', 530],['02:00', 520], ['02:30', 510],['03:00', 500], ['03:30', 500],['04:00', 500], ['04:30', 510],['05:00', 520], ['05:30', 540],['06:00', 570], ['06:30', 610],['07:00', 660], ['07:30', 720],['08:00', 780], ['08:30', 840],['09:00', 900], ['09:30', 940],['10:00', 960], ['10:30', 970],['11:00', 960], ['11:30', 940],['12:00', 900], ['12:30', 860],['13:00', 820], ['13:30', 780],['14:00', 740], ['14:30', 700],['15:00', 660], ['15:30', 620],['16:00', 580], ['16:30', 540],['17:00', 500], ['17:30', 540],['18:00', 600], ['18:30', 660],['19:00', 720], ['19:30', 780],['20:00', 840], ['20:30', 880],['21:00', 900], ['21:30', 900],['22:00', 880], ['22:30', 840],['23:00', 780], ['23:30', 720]]},
      {name: '商业负荷预测', id:'2', type: 'dotted', data: [['00:00', 570], ['00:30', 556],['01:00', 544], ['01:30', 536],['02:00', 526], ['02:30', 514],['03:00', 504], ['03:30', 506],['04:00', 508], ['04:30', 516],['05:00', 526], ['05:30', 544],['06:00', 576], ['06:30', 604],['07:00', 670], ['07:30', 724],['08:00', 790], ['08:30', 856],['09:00', 910], ['09:30', 944],['10:00', 970], ['10:30', 976],['11:00', 964], ['11:30', 942],['12:00', 916], ['12:30', 870],['13:00', 824], ['13:30', 790],['14:00', 756], ['14:30', 710],['15:00', 664], ['15:30', 630],['16:00', 596], ['16:30', 550],['17:00', 516], ['17:30', 550],['18:00', 610], ['18:30', 664],['19:00', 730], ['19:30', 796],['20:00', 850], ['20:30', 884],['21:00', 910], ['21:30', 904],['22:00', 890], ['22:30', 856],['23:00', 790], ['23:30', 736]]}, 
      {name: '居民负荷', id:'3', type: 'solid', data: [['00:00', 855], ['00:30', 834],['01:00', 816], ['01:30', 804],['02:00', 789], ['02:30', 771],['03:00', 756], ['03:30', 768],['04:00', 762], ['04:30', 786],['05:00', 789], ['05:30', 816],['06:00', 864], ['06:30', 912],['07:00', 1005], ['07:30', 1092],['08:00', 1185], ['08:30', 1284],['09:00', 1365], ['09:30', 1422],['10:00', 1455], ['10:30', 1464],['11:00', 1446], ['11:30', 1425],['12:00', 1374], ['12:30', 1290],['13:00', 1236], ['13:30', 1195],['14:00', 1134], ['14:30', 1075],['15:00', 996], ['15:30', 945],['16:00', 894], ['16:30', 825],['17:00', 774], ['17:30', 825],['18:00', 915], ['18:30', 1002],['19:00', 1105], ['19:30', 1200],['20:00', 1275], ['20:30', 1334],['21:00', 1365], ['21:30', 1362],['22:00', 1335], ['22:30', 1284],['23:00', 1185], ['23:30', 1104]]},
      {name: '居民负荷预测', id:'3', type: 'dotted', data: [['00:00', 840], ['00:30', 825],['01:00', 810], ['01:30', 795],['02:00', 780], ['02:30', 765],['03:00', 750], ['03:30', 750],['04:00', 750], ['04:30', 765],['05:00', 780], ['05:30', 810],['06:00', 855], ['06:30', 915],['07:00', 990], ['07:30', 1080],['08:00', 1170], ['08:30', 1260],['09:00', 1350], ['09:30', 1410],['10:00', 1440], ['10:30', 1455],['11:00', 1440], ['11:30', 1410],['12:00', 1350], ['12:30', 1290],['13:00', 1230], ['13:30', 1170],['14:00', 1110], ['14:30', 1050],['15:00', 990], ['15:30', 930],['16:00', 870], ['16:30', 810],['17:00', 750], ['17:30', 810],['18:00', 900], ['18:30', 990],['19:00', 1080], ['19:30', 1170],['20:00', 1260], ['20:30', 1320],['21:00', 1350], ['21:30', 1350],['22:00', 1320], ['22:30', 1260],['23:00', 1170], ['23:30', 1080]]}
    ]

    publicStore._public.loadsPredict1 = [
      {name: '总负荷预测', id:'', type: 'solid', data: [['00:00', 2800], ['00:30', 2750],['01:00', 2700], ['01:30', 2650],['02:00', 2600], ['02:30', 2550],['03:00', 2500], ['03:30', 2500],['04:00', 2500], ['04:30', 2550],['05:00', 2600], ['05:30', 2700],['06:00', 2850], ['06:30', 3050],['07:00', 3300], ['07:30', 3600],['08:00', 3900], ['08:30', 4200],['09:00', 4500], ['09:30', 4700],['10:00', 4800], ['10:30', 4850],['11:00', 4800], ['11:30', 4700],['12:00', 4500], ['12:30', 4300],['13:00', 4100], ['13:30', 3900],['14:00', 3700], ['14:30', 3500],['15:00', 3300], ['15:30', 3100],['16:00', 2900], ['16:30', 2700],['17:00', 2500], ['17:30', 2700],['18:00', 3000], ['18:30', 3300],['19:00', 3600], ['19:30', 3900],['20:00', 4200], ['20:30', 4400],['21:00', 4500], ['21:30', 4500],['22:00', 4400], ['22:30', 4200],['23:00', 3900], ['23:30', 3600]]}, 
      {name: '工业负荷预测', id:'1', type: 'solid', data: [['00:00', 1120], ['00:30', 1100],['01:00', 1080], ['01:30', 1060],['02:00', 1040], ['02:30', 1020],['03:00', 1000], ['03:30', 1000],['04:00', 1000], ['04:30', 1020],['05:00', 1040], ['05:30', 1080],['06:00', 1140], ['06:30', 1220],['07:00', 1320], ['07:30', 1440],['08:00', 1560], ['08:30', 1680],['09:00', 1800], ['09:30', 1880],['10:00', 1920], ['10:30', 1940],['11:00', 1920], ['11:30', 1880],['12:00', 1800], ['12:30', 1720],['13:00', 1640], ['13:30', 1560],['14:00', 1480], ['14:30', 1400],['15:00', 1320], ['15:30', 1240],['16:00', 1160], ['16:30', 1080],['17:00', 1000], ['17:30', 1080],['18:00', 1200], ['18:30', 1320],['19:00', 1440], ['19:30', 1560],['20:00', 1680], ['20:30', 1760],['21:00', 1800], ['21:30', 1800],['22:00', 1760], ['22:30', 1680],['23:00', 1560], ['23:30', 1440]]}, 
      {name: '商业负荷预测', id:'2', type: 'solid', data: [['00:00', 570], ['00:30', 556],['01:00', 544], ['01:30', 536],['02:00', 526], ['02:30', 514],['03:00', 504], ['03:30', 506],['04:00', 508], ['04:30', 516],['05:00', 526], ['05:30', 544],['06:00', 576], ['06:30', 604],['07:00', 670], ['07:30', 724],['08:00', 790], ['08:30', 856],['09:00', 910], ['09:30', 944],['10:00', 970], ['10:30', 976],['11:00', 964], ['11:30', 942],['12:00', 916], ['12:30', 870],['13:00', 824], ['13:30', 790],['14:00', 756], ['14:30', 710],['15:00', 664], ['15:30', 630],['16:00', 596], ['16:30', 550],['17:00', 516], ['17:30', 550],['18:00', 610], ['18:30', 664],['19:00', 730], ['19:30', 796],['20:00', 850], ['20:30', 884],['21:00', 910], ['21:30', 904],['22:00', 890], ['22:30', 856],['23:00', 790], ['23:30', 736]]}, 
      {name: '居民负荷预测', id:'3', type: 'solid', data: [['00:00', 840], ['00:30', 825],['01:00', 810], ['01:30', 795],['02:00', 780], ['02:30', 765],['03:00', 750], ['03:30', 750],['04:00', 750], ['04:30', 765],['05:00', 780], ['05:30', 810],['06:00', 855], ['06:30', 915],['07:00', 990], ['07:30', 1080],['08:00', 1170], ['08:30', 1260],['09:00', 1350], ['09:30', 1410],['10:00', 1440], ['10:30', 1455],['11:00', 1440], ['11:30', 1410],['12:00', 1350], ['12:30', 1290],['13:00', 1230], ['13:30', 1170],['14:00', 1110], ['14:30', 1050],['15:00', 990], ['15:30', 930],['16:00', 870], ['16:30', 810],['17:00', 750], ['17:30', 810],['18:00', 900], ['18:30', 990],['19:00', 1080], ['19:30', 1170],['20:00', 1260], ['20:30', 1320],['21:00', 1350], ['21:30', 1350],['22:00', 1320], ['22:30', 1260],['23:00', 1170], ['23:30', 1080]]}
    ]
    publicStore._public.loadsPredict2 = [
      {name: '总负荷', id:'', data: [
        [proxy.parseTime(state.date+1*24*3600*1000, state.dw), 6000], 
        [proxy.parseTime(state.date+2*24*3600*1000, state.dw), 6400],
        [proxy.parseTime(state.date+3*24*3600*1000, state.dw), 6600],
        [proxy.parseTime(state.date+4*24*3600*1000, state.dw), 6000], 
        [proxy.parseTime(state.date+5*24*3600*1000, state.dw), 6400],
        [proxy.parseTime(state.date+6*24*3600*1000, state.dw), 6600],
        [proxy.parseTime(state.date+7*24*3600*1000, state.dw), 6600],
      ]},                                                        
      {name: '工业负荷', id:'1', data: [                         
        [proxy.parseTime(state.date+1*24*3600*1000, state.dw), 3200], 
        [proxy.parseTime(state.date+2*24*3600*1000, state.dw), 3600],
        [proxy.parseTime(state.date+3*24*3600*1000, state.dw), 3800],
        [proxy.parseTime(state.date+4*24*3600*1000, state.dw), 3600], 
        [proxy.parseTime(state.date+5*24*3600*1000, state.dw), 3400],
        [proxy.parseTime(state.date+6*24*3600*1000, state.dw), 3200],
        [proxy.parseTime(state.date+7*24*3600*1000, state.dw), 3600],
      ]},                                                        
      {name: '商业负荷', id:'2', data: [                         
        [proxy.parseTime(state.date+1*24*3600*1000, state.dw), 2000], 
        [proxy.parseTime(state.date+2*24*3600*1000, state.dw), 2800],
        [proxy.parseTime(state.date+3*24*3600*1000, state.dw), 2800],
        [proxy.parseTime(state.date+4*24*3600*1000, state.dw), 2800], 
        [proxy.parseTime(state.date+5*24*3600*1000, state.dw), 2000],
        [proxy.parseTime(state.date+6*24*3600*1000, state.dw), 2200],
        [proxy.parseTime(state.date+7*24*3600*1000, state.dw), 2400],
      ]},                                                        
      {name: '居民负荷', id:'3', data: [                         
        [proxy.parseTime(state.date+1*24*3600*1000, state.dw), 1000], 
        [proxy.parseTime(state.date+2*24*3600*1000, state.dw), 1800],
        [proxy.parseTime(state.date+3*24*3600*1000, state.dw), 1800],
        [proxy.parseTime(state.date+4*24*3600*1000, state.dw), 1800], 
        [proxy.parseTime(state.date+5*24*3600*1000, state.dw), 1000],
        [proxy.parseTime(state.date+6*24*3600*1000, state.dw), 1200],
        [proxy.parseTime(state.date+7*24*3600*1000, state.dw), 1400],
      ]}, 
    ]
	}

	const setInit = async() => {

	}
</script>

<style lang="scss">
 
</style>
